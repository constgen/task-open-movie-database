(function(b,c){if('object'==typeof exports&&'object'==typeof module)module.exports=c();else if('function'==typeof define&&define.amd)define([],c);else{var d=c();for(var a in d)('object'==typeof exports?exports:b)[a]=d[a]}})('undefined'==typeof self?this:self,function(){return function(a){function b(d){if(c[d])return c[d].exports;var e=c[d]={i:d,l:!1,exports:{}};return a[d].call(e.exports,e,e.exports,b),e.l=!0,e.exports}var c={};return b.m=a,b.c=c,b.d=function(a,c,d){b.o(a,c)||Object.defineProperty(a,c,{configurable:!1,enumerable:!0,get:d})},b.n=function(a){var c=a&&a.__esModule?function(){return a['default']}:function(){return a};return b.d(c,'a',c),c},b.o=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},b.p='./',b(b.s=0)}({0:function(a,b,c){a.exports=c(16)},16:function(a,b){'use strict';function c(a){let b='';return'object'==typeof a&&(b=function(){let b,c=Object.keys(a),d=-1,e=[];for(;++d in c;)b=c[d],e.push(`${b}=${a[b]}`);return e.length?`?${encodeURI(e.join('&'))}`:''}()),b}function d({method:b='GET',url:a,params:d={},body:e=null}){let f=new XMLHttpRequest,g=a+c(d);return f.open(b,g,!0),f.responseType='text',new Promise(function(a,b){f.onreadystatechange=function(){this.readyState!==this.DONE||(200<=this.status&&300>this.status||0===this.status&&this.responseText?a({body:this.responseText}):304===this.status?a({body:void 0}):b(new Error(this.statusText)),this.onreadystatechange=null,f=void 0)};try{f.send(e)}catch(a){b(a)}}).then(function(a){return a.body=a.body?JSON.parse(a.body):void 0,a})}function e({body:a}){if(a.Error)throw new Error(a.Error);return a.Search}function f(a){return function b(...c){return c.length>=a.length?a.apply(null,c):b.bind(null,...c)}}function g({Title:a,Year:b,imdbID:c,Poster:d,Type:e}){return`<li class="movie-item">
		<a title="${a} (${b})" href="${C}/${c}" class="link" target="_blank">
			<img src="${d}" alt="${e} ${a}" class="image">
			<h3 class="title">${a}</h3>
		</a>
	</li>`}function h(a,b=[]){let c=a.parentNode,d=!a.parentNode||a.parentNode===document.documentElement;return d?b:h(c,b.concat([c]))}function i(a,b){return getComputedStyle(a,null).getPropertyValue(b)}function j(a){return[i(a,'overflow'),i(a,'overflow-y'),i(a,'overflow-x')].join('-')}function k(a){let b=/(\bauto\b|\bscroll\b)/;return b.test(j(a))}function l(a,b){return{left:a.offsetLeft-b.offsetLeft-b.scrollLeft,top:a.offsetTop-b.offsetTop-b.scrollTop}}function m(a,b){let c=l(a,b),d=b.offsetHeight,e=b.offsetWidth,f=a.offsetHeight,g=a.offsetWidth,h=0<c.top+f&&c.top<d,i=0<c.left+g&&c.left<e;return h&&i}function n(a){return K(''),M(a.message),a.message}function o(a){return M(''),a}function p(a){t.search(a).then(u(g)).then(N).then(K).then(o).catch(n)}function q(a){O+=1,t.search(a,O).then(u(g)).then(N).then(L).catch(n)}Object.defineProperty(b,'__esModule',{value:!0});var r={get(a,b){return d({method:'GET',url:a,params:b})},post(){}};const s=`https://www.omdbapi.com`;var t={search(a,b=1){return r.get(s,{apikey:'338f9a63',s:a,r:'json',page:b}).then(e)}};let u=f(function(a,b){return b.map(a)}),v=f(function(a,b){return b.reduce(a)}),w=f(function(a,b){return b.forEach(a)}),x=f(function(a,b,c){return b.addEventListener(a,c,!1),c}),y=f(function(a,b,c){return b.removeEventListener(a,c,!1),c}),z=f(function(a,b){return a.innerHTML=b,b}),A=f(function(a,b){return a.insertAdjacentHTML('beforeend',b),b}),B=f(function(a,b){return a+b});const C='https://www.imdb.com/title';let D,E=document.querySelector('.movies-search .search-box'),F=E.querySelector('input'),G=document.querySelector('.movies-search .search-results'),H=document.querySelector('.movies-search .search-error'),I=document.querySelector('.movies-search .infinite-loader'),J=function(a){let b=h(a),c=b.find(k);return c||document.scrollingElement||document.documentElement}(I),K=z(G),L=A(G),M=z(H),N=v(B),O=1;x('submit',E,function(a){return a.preventDefault(),a}),x('submit',E,function(){let a=F.value;p(a,O)}),x('scroll',J,function(a){let b=F.value,c=m(I,J),d=c!==D;return D=c,d&&c&&b&&q(b),a})}})});
//# sourceMappingURL=task-open-movie-database.js.map